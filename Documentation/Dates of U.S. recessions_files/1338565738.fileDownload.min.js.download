!function(w,v){var y=/[<>&\r\n"']/gm,C={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"#39;"};w.extend({fileDownload:function(n,e){var o,t,a,l=w.extend({preparingMessageHtml:null,failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(e){},successCallback:function(e){},abortCallback:function(e){},failCallback:function(e,o,t){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",cookieDomain:null,popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},e),i=new w.Deferred,e=(navigator.userAgent||navigator.vendor||v.opera).toLowerCase();/ip(ad|hone|od)/.test(e)?o=!0:-1!==e.indexOf("android")?t=!0:a=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(e.substr(0,4));e=l.httpMethod.toUpperCase();if(t&&"GET"!==e&&l.androidPostUnsupportedMessageHtml)return w().dialog?w("<div>").html(l.androidPostUnsupportedMessageHtml).dialog(l.dialogOptions):alert(l.androidPostUnsupportedMessageHtml),i.reject();var r,c,d,s,p=null,m=function(e){p&&p.dialog("close"),l.successCallback(e),i.resolve(e)},u=function(e){p&&p.dialog("close"),l.abortCallback(e),i.reject(e)},f=function(e,o,t){p&&p.dialog("close"),l.failMessageHtml&&w("<div>").html(l.failMessageHtml).dialog(l.dialogOptions),l.failCallback(e,o,t),i.reject(e,o)};function g(e){e=e[0].contentWindow||e[0].contentDocument;return e=e.document?e.document:e}function h(e){setTimeout(function(){c&&(t&&c.close(),o&&c.focus&&(c.focus(),e&&c.close()))},0)}function b(e){return e.replace(y,function(e){return"&"+C[e]})}(function(e){l.preparingMessageHtml?p=w("<div>").html(l.preparingMessageHtml).dialog(l.dialogOptions):l.prepareCallback&&l.prepareCallback(e)})(n),null!==l.data&&"string"!=typeof l.data&&(l.data=w.param(l.data)),"GET"===e?(null!==l.data&&(-1!==n.indexOf("?")?"&"!==n.substring(n.length-1)&&(n+="&"):n+="?",n+=l.data),o||t?((c=v.open(n)).document.title=l.popupWindowTitle,v.focus()):a?v.location(n):r=w("<iframe style='display: none' src='"+n+"'></iframe>").appendTo("body")):(s="",null!==l.data&&w.each(l.data.replace(/\+/g," ").split("&"),function(){var e=(o=this.split("="))[0];o.shift();var o=[e,o.join("=")],e=l.encodeHTMLEntities?b(decodeURIComponent(o[0])):decodeURIComponent(o[0]);e&&(o=l.encodeHTMLEntities?b(decodeURIComponent(o[1])):decodeURIComponent(o[1]),s+='<input type="hidden" name="'+e+'" value="'+o+'" />')}),a?(d=w("<form>").appendTo("body")).hide().prop("method",l.httpMethod).prop("action",n).html(s):(o?((c=v.open("about:blank")).document.title=l.popupWindowTitle,k=c.document,v.focus()):k=g(r=w("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body")),k.write("<html><head></head><body><form method='"+l.httpMethod+"' action='"+n+"'>"+s+"</form>"+l.popupWindowTitle+"</body></html>"),d=w(k).find("form")),d.submit()),setTimeout(function e(){var o=l.cookieValue;"string"==typeof o&&(o=o.toLowerCase());var o=l.cookieName.toLowerCase()+"="+o;if(-1<document.cookie.toLowerCase().indexOf(o)){m(n);o=l.cookieName+"=; path="+l.cookiePath+"; expires="+new Date(0).toUTCString()+";";return l.cookieDomain&&(o+=" domain="+l.cookieDomain+";"),document.cookie=o,void h(!1)}if(c||r)try{var t=c?c.document:g(r);if(t&&null!==t.body&&t.body.innerHTML.length){var a=!0;if(d&&d.length){var i=w(t.body).contents().first();try{i.length&&i[0]===d[0]&&(a=!1)}catch(e){if(!e||-2146828218!=e.number)throw e;a=!0}}if(a)return void setTimeout(function(){f(t.body.innerHTML,n),h(!0)},100)}}catch(e){return f("",n,e),void h(!0)}setTimeout(e,l.checkInterval)},l.checkInterval);var k=i.promise();return k.abort=function(){h(),r.attr("src","").html(""),u(n)},k}})}(jQuery,this||window);var downloadFile=function(t){"function"==typeof t.before&&t.before(),$.fileDownload(t.url,{httpMethod:"POST",data:t,successCallback:function(e){"function"==typeof t.success&&t.success()},failCallback:function(e,o){"function"==typeof t.failure&&t.failure()}})};
//# sourceMappingURL=fileDownload.min.js.map